<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>Starter Template for Bootstrap 3.3.7</title>
	<link rel="shortcut icon" href="">
	<style>
		html,
		body {
			margin: 0;
			padding: 0;
			background: #f1f1f1;
		}
		
		.fixed_container {
			position: relative;
			width: 100%;
			height: 300px;
			z-index: 1;
		}
		
		.fixed_image {
			position: fixed;
			height: 300px;
			min-height: 60px;
			width: 100%;
			background-image: url(https://unsplash.it/1400/900/?random);
			background-size: cover;
			opacity: 1;
		}
		
		.fixed_bgcolor {
			background: red;
			position: fixed;
			width: 100%;
			height: 300px;
			min-height: 60px;
		}
		
		.everything_else {
			position: relative;
			padding: 50px 0;
			height: 600vh;
			min-height: 600vh;
			width: 100%;
			background: white;
			z-index: 2;
			text-align: center;
		}
	</style>
</head>

<body>
	<div class="fixed_container">
		<div class="fixed_bgcolor"></div>
		<div class="fixed_image"></div>
	</div>


	<div class="everything_else">
		<h1>Hello, world!</h1>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>


	<script>
		var scroll_things = function() {
			//scrolling things
			$('.fixed_image').css({
				opacity: 1 - (lastScrollTop / 400)
			});
		};

		var raf = window.requestAnimationFrame;
		var $window = $(window);
		var lastScrollTop = $window.scrollTop();

		if (raf) {
			loop();
		}

		function loop() {
			var scrollTop = $window.scrollTop();
			if (lastScrollTop === scrollTop) {
				raf(loop);
				return;
			} else {
				if (scrollTop > 400) {
					raf(loop);
					return;
				} else {
					lastScrollTop = scrollTop;
					scroll_things();
					raf(loop);
				}
			}
		}
	</script>
</body>

</html>